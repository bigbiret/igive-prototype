---
import Layout from '../../layouts/Layout.astro';
import Header from '../../components/Header.astro';
import Footer from '../../components/Footer.astro';

export async function getStaticPaths() {
  const programs = [
    { 
      slug: 'larvik',
      name: 'Larvik By gavekort',
      image: '/igive-prototype/larvik by.jpg',
      logo: '/igive-prototype/larvik by logo.png',
      description: 'Den perfekte gaven med flest muligheter',
      brandColors: {
        primary: '#0B4F8A',  // Larvik blå
        secondary: '#57B857', // Larvik grønn
        accent: '#8B6D47'     // Brun for kontrast
      },
      locations: '100+ steder',
      validity: '1 år',
      formats: ['Digital', 'Fysisk'],
      deliveryMethods: ['E-post', 'SMS', 'Post'],
      priceOptions: [200, 300, 500, 700, 1000, 1500, 2000],
      customPrice: true,
      minPrice: 200,
      maxPrice: 5000,
      physicalLocations: [
        'Felumb',
        'Eurosko Kjell Hovland', 
        'O. Borgen møbler',
        'Norli Amfi Larvik'
      ],
      contact: {
        company: 'Larvik By AS',
        phone: '916 16 834',
        email: 'post@larvik-by.no',
        orgNumber: '977 046 734'
      },
      features: [
        'Kan brukes på ca. 100 steder inkludert Amfi Larvik',
        'Gjelder på hoteller, restauranter, velværesteder og butikker',
        'Mobilapp for enkel sporing og bruk',
        'Perfekt gave til bedrifter og privatpersoner'
      ]
    },
    { slug: 'midtbykortet', name: 'Midtbykortet' },
    { slug: 'gullfunn', name: 'Gullfunn' },
    { slug: 'mathallen', name: 'Mathallen Oslo' },
  ];

  return programs.map(program => ({
    params: { slug: program.slug },
    props: { program }
  }));
}

const { program } = Astro.props;
---

<Layout title={`${program.name} - iGive`}>
  <Header />
  <main class="site-content">
    <!-- Hero Section with enhanced design -->
    <section class="relative bg-gradient-to-b from-[#0B4F8A]/5 to-white py-16 min-h-[85vh] flex items-center">
      <div class="container mx-auto px-4 max-w-7xl">
        <!-- Hero image container -->
        <div class="relative">
          <!-- Main hero image - much larger -->
          <div class="relative w-full aspect-[16/10] md:aspect-[16/9] lg:aspect-[21/10] max-w-[1600px] mx-auto rounded-3xl overflow-hidden shadow-2xl">
            <img 
              src={program.image}
              alt={program.name}
              class="w-full h-full object-cover object-center transition-transform duration-500 hover:scale-110"
              loading="eager"
              crossorigin="anonymous"
            />
            
            <!-- Logo overlay - bottom left corner like on original -->
            {program.logo && (
              <div class="absolute bottom-0 left-1/2 -translate-x-1/2 w-[140px] md:w-[180px] lg:w-[200px]">
                <div class="bg-white rounded-t-2xl px-5 pt-5 pb-3 shadow-2xl">
                  <img 
                    src={program.logo} 
                    alt="Larvik By logo"
                    class="w-full h-auto"
                  />
                </div>
              </div>
            )}
          </div>
        </div>
        
        <!-- Title and description section -->
        <div class="text-center mt-12 space-y-6">
          <h1 class="text-4xl md:text-6xl lg:text-7xl font-bold text-[#0B4F8A] mb-4">
            Larvik By gavekort
          </h1>
          <h2 class="text-2xl md:text-3xl lg:text-4xl font-semibold text-gray-800 mb-6">
            Gavekort for shopping i Larvik By og Larvik Amfi
          </h2>
          <p class="text-xl md:text-2xl text-gray-600 mb-10 max-w-4xl mx-auto leading-relaxed">
            Larvik By gavekort, den perfekte gaven med flest muligheter, da kan mottaker velge den perfekte gave selv.
          </p>
          
          <!-- Action buttons with enhanced styling -->
          <div class="flex flex-wrap gap-5 justify-center mb-10">
            <a 
              href="/igive-prototype/kjop/larvik"
              class="inline-block bg-[#0B4F8A] hover:bg-[#073C6B] text-white px-12 py-5 rounded-full font-semibold shadow-lg transition-all hover:shadow-xl hover:-translate-y-0.5 text-xl"
            >
              Kjøp gavekort →
            </a>
            
            <a 
              href="/igive-prototype/sjekk-saldo"
              class="inline-block bg-white hover:bg-gray-50 text-[#0B4F8A] border-2 border-[#0B4F8A] px-10 py-4 rounded-full font-semibold transition-all text-lg"
            >
              Sjekk saldo →
            </a>
            
            <a 
              href="#"
              class="inline-block bg-white hover:bg-gray-50 text-[#0B4F8A] border-2 border-[#0B4F8A] px-10 py-4 rounded-full font-semibold transition-all text-lg"
            >
              Fyll opp →
            </a>
          </div>
        </div>
      </div>
    </section>


    <!-- Main Content with enhanced spacing -->
    <section class="py-16 bg-gray-50">
      <div class="container mx-auto px-4 max-w-7xl">
        <!-- Primary card - How Recipients Use the Gift Card -->
        <div class="bg-white p-8 rounded-2xl shadow-lg hover:shadow-xl transition-shadow duration-300 mb-8 max-w-5xl mx-auto">
          <h2 class="text-2xl font-bold text-center text-[#0B4F8A] mb-8">
            Slik fungerer det for mottaker
          </h2>
          <div class="grid md:grid-cols-3 gap-6">
            <!-- Step 1 -->
            <div class="text-center">
              <div class="relative mb-4">
                <div class="w-32 h-44 bg-gradient-to-br from-gray-100 to-gray-200 rounded-xl mx-auto flex items-center justify-center shadow-md">
                  <div class="text-gray-500">
                    <svg class="w-16 h-16 mx-auto mb-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M12 18h.01M8 21h8a2 2 0 002-2V5a2 2 0 00-2-2H8a2 2 0 00-2 2v14a2 2 0 002 2z"></path>
                    </svg>
                    <p class="text-xs">Mobilskjerm</p>
                  </div>
                </div>
                <div class="absolute top-2 right-2 w-8 h-8 bg-[#0B4F8A] text-white rounded-full flex items-center justify-center font-bold text-sm">
                  1
                </div>
              </div>
              <h3 class="font-bold text-lg mb-2 text-gray-900">
                Mottaker får en aktiveringskode
              </h3>
              <p class="text-gray-600 text-sm leading-relaxed">
                Gavekortet kommer på SMS, e-post eller kan leveres personlig – alltid med en unik gavekortkode.
              </p>
            </div>
            
            <!-- Step 2 -->
            <div class="text-center">
              <div class="relative mb-4">
                <div class="w-32 h-44 bg-gradient-to-br from-gray-100 to-gray-200 rounded-xl mx-auto flex items-center justify-center shadow-md">
                  <div class="text-gray-500">
                    <svg class="w-16 h-16 mx-auto mb-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M12 18h.01M8 21h8a2 2 0 002-2V5a2 2 0 00-2-2H8a2 2 0 00-2 2v14a2 2 0 002 2z"></path>
                    </svg>
                    <p class="text-xs">Apple/Google Wallet</p>
                  </div>
                </div>
                <div class="absolute top-2 right-2 w-8 h-8 bg-[#0B4F8A] text-white rounded-full flex items-center justify-center font-bold text-sm">
                  2
                </div>
              </div>
              <h3 class="font-bold text-lg mb-2 text-gray-900">
                Mottaker aktiverer gavekort
              </h3>
              <p class="text-gray-600 text-sm leading-relaxed">
                Aktiver gavekort og legg inn i din valgte Wallet
              </p>
            </div>
            
            <!-- Step 3 -->
            <div class="text-center">
              <div class="relative mb-4">
                <div class="w-32 h-44 bg-gradient-to-br from-gray-100 to-gray-200 rounded-xl mx-auto flex items-center justify-center shadow-md">
                  <div class="text-gray-500">
                    <svg class="w-16 h-16 mx-auto mb-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"></path>
                    </svg>
                    <p class="text-xs">Tæpp i terminal</p>
                  </div>
                </div>
                <div class="absolute top-2 right-2 w-8 h-8 bg-[#0B4F8A] text-white rounded-full flex items-center justify-center font-bold text-sm">
                  3
                </div>
              </div>
              <h3 class="font-bold text-lg mb-2 text-gray-900">
                Mottaker betaler med gavekortet med tæpping
              </h3>
              <p class="text-gray-600 text-sm leading-relaxed">
                Tæpp i terminalen i butikker med Larvik By Gavekort.
              </p>
            </div>
          </div>
        </div>

        <!-- Other cards in 2-column grid -->
        <div class="grid lg:grid-cols-2 gap-8">
            
            <!-- Features -->
            {program.features && (
              <div class="bg-white p-8 rounded-2xl shadow-lg hover:shadow-xl transition-shadow duration-300 h-fit">
                <h2 class="text-2xl font-heading font-semibold text-[#0B4F8A] mb-4">
                  Hvorfor velge {program.name}?
                </h2>
                <ul class="space-y-3">
                  {program.features.map(feature => (
                    <li class="flex items-start gap-3">
                      <svg class="w-5 h-5 text-[#57B857] mt-0.5 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                      </svg>
                      <span class="text-gray-700">{feature}</span>
                    </li>
                  ))}
                </ul>
              </div>
            )}


            <!-- Where to Buy Physical -->
            {program.physicalLocations && (
              <div class="bg-white p-8 rounded-2xl shadow-lg hover:shadow-xl transition-shadow duration-300 h-fit">
                <h2 class="text-2xl font-heading font-semibold text-[#0B4F8A] mb-4">
                  Kjøp fysisk gavekort
                </h2>
                <p class="text-gray-600 mb-4">Du kan også kjøpe gavekort i disse butikkene:</p>
                <div class="grid sm:grid-cols-2 gap-4">
                  {program.physicalLocations.map(location => (
                    <div class="flex items-center gap-3 p-4 bg-gradient-to-r from-[#0B4F8A]/5 to-[#57B857]/5 rounded-lg hover:shadow-md transition-all">
                      <svg class="w-4 h-4 text-[#0B4F8A] flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1"></path>
                      </svg>
                      <span class="text-gray-700 text-sm">{location}</span>
                    </div>
                  ))}
                </div>
              </div>
            )}

            <!-- FAQ Section -->
            <div class="bg-white p-8 rounded-2xl shadow-lg hover:shadow-xl transition-shadow duration-300 h-fit">
              <h2 class="text-2xl font-heading font-semibold text-igive-heading mb-4">
                Ofte stilte spørsmål
              </h2>
              <div class="space-y-4">
                <details class="border-b border-gray-200 pb-4">
                  <summary class="font-medium text-gray-900 cursor-pointer hover:text-[#0B4F8A]">
                    Hvor lenge er gavekortet gyldig?
                  </summary>
                  <p class="mt-2 text-gray-600 text-sm">
                    Gavekortet er gyldig i {program.validity} fra kjøpsdato. Du kan sjekke utløpsdato i appen eller på kortet.
                  </p>
                </details>
                <details class="border-b border-gray-200 pb-4">
                  <summary class="font-medium text-gray-900 cursor-pointer hover:text-[#0B4F8A]">
                    Kan jeg bruke gavekortet flere ganger?
                  </summary>
                  <p class="mt-2 text-gray-600 text-sm">
                    Ja, du kan bruke gavekortet flere ganger til saldoen er brukt opp eller kortet utløper.
                  </p>
                </details>
                <details class="border-b border-gray-200 pb-4">
                  <summary class="font-medium text-gray-900 cursor-pointer hover:text-[#0B4F8A]">
                    Hvordan sjekker jeg saldo?
                  </summary>
                  <p class="mt-2 text-gray-600 text-sm">
                    Du kan sjekke saldo i mobilappen, på igive.no eller ved å spørre i butikken.
                  </p>
                </details>
                <details class="border-b border-gray-200 pb-4">
                  <summary class="font-medium text-gray-900 cursor-pointer hover:text-[#0B4F8A]">
                    Hva hvis jeg mister kortet?
                  </summary>
                  <p class="mt-2 text-gray-600 text-sm">
                    Digitale gavekort kan gjenopprettes via e-post. Fysiske kort kan dessverre ikke erstattes ved tap.
                  </p>
                </details>
              </div>
            </div>
            
            <!-- Contact Info at the bottom -->
            {program.contact && (
              <div class="bg-gradient-to-br from-[#0B4F8A]/10 to-[#57B857]/10 p-8 rounded-2xl shadow-md lg:col-span-2">
                <h3 class="font-semibold text-xl mb-4 text-[#0B4F8A]">Kontaktinformasjon</h3>
                <div class="grid sm:grid-cols-2 gap-6">
                  <div>
                    <p class="text-gray-600 mb-2 text-sm uppercase tracking-wider">Selskap</p>
                    <p class="font-semibold text-gray-800">{program.contact.company}</p>
                  </div>
                  <div>
                    <p class="text-gray-600 mb-2 text-sm uppercase tracking-wider">Telefon</p>
                    <p class="font-semibold text-gray-800">{program.contact.phone}</p>
                  </div>
                  <div>
                    <p class="text-gray-600 mb-2 text-sm uppercase tracking-wider">E-post</p>
                    <p class="font-semibold text-gray-800">{program.contact.email}</p>
                  </div>
                  <div>
                    <p class="text-gray-600 mb-2 text-sm uppercase tracking-wider">Org.nummer</p>
                    <p class="font-semibold text-gray-800">{program.contact.orgNumber}</p>
                  </div>
                </div>
              </div>
            )}
        </div>
      </div>
    </section>
  </main>
  <Footer />
</Layout>

<style>
  details summary::-webkit-details-marker {
    display: none;
  }
  
  details summary::before {
    content: '+';
    display: inline-block;
    width: 20px;
    margin-right: 8px;
    font-weight: bold;
    color: #0B4F8A;
  }
  
  details[open] summary::before {
    content: '−';
  }
</style>

