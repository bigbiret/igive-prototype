---
import Layout from '../layouts/Layout.astro';
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';

const base = import.meta.env.BASE_URL;

// Helper to ensure correct path joining
const assetPath = (path: string) => {
  // Remove leading slash from path if present
  const cleanPath = path.startsWith('/') ? path.slice(1) : path;
  // BASE_URL should end with /, but let's be safe
  return base.endsWith('/') ? base + cleanPath : base + '/' + cleanPath;
};
---

<Layout title="Apple Pay - Easy and Secure Payment Method | iGive">
  <Header />
  
  <!-- Language Toggle -->
  <div class="fixed top-24 right-6 z-40">
    <div class="flex bg-white rounded-full shadow-lg border border-gray-200">
      <button 
        id="lang-no" 
        class="px-4 py-2 rounded-l-full text-sm font-medium transition-colors lang-btn active"
        data-lang="no"
        aria-label="Norsk"
      >
        üá≥üá¥ NO
      </button>
      <button 
        id="lang-en" 
        class="px-4 py-2 rounded-r-full text-sm font-medium transition-colors lang-btn"
        data-lang="en"
        aria-label="English"
      >
        üá¨üáß EN
      </button>
    </div>
  </div>
  <main class="site-content">
    <!-- Hero Section -->
    <section class="relative bg-gradient-to-b from-white to-igive-background py-16 lg:py-20">
      <div class="container mx-auto px-6">
        <div class="max-w-7xl mx-auto">
          <div class="grid lg:grid-cols-2 gap-12 items-center">
            <!-- Left side - Content -->
            <div>
              <h1 class="text-4xl lg:text-5xl font-heading font-bold text-igive-heading mb-6">
                <span class="text-igive-primary">Apple</span> Pay
              </h1>
              
              <p class="text-xl text-igive-text mb-8 font-medium" data-lang-content>
                <span data-no>Gj√∏r kj√∏p med ditt <span class="text-igive-primary font-semibold">iGive</span> kort ved hjelp av Apple Pay ‚Äî den enkleste og sikreste m√•ten √• betale p√•.</span>
                <span data-en class="hidden">Make purchases with your <span class="text-igive-primary font-semibold">iGive</span> card using Apple Pay ‚Äî the easiest and most secure way to pay.</span>
              </p>
              
              <!-- Key Benefits -->
              <div class="grid grid-cols-1 gap-4 mb-8">
                <div class="flex items-center gap-3">
                  <svg class="w-6 h-6 text-igive-accent flex-shrink-0" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path>
                  </svg>
                  <span class="text-gray-700" data-lang-content>
                    <span data-no>Umiddelbart oppsett p√• iPhone, iPad og Apple Watch</span>
                    <span data-en class="hidden">Instant setup on iPhone, iPad & Apple Watch</span>
                  </span>
                </div>
                <div class="flex items-center gap-3">
                  <svg class="w-6 h-6 text-igive-accent flex-shrink-0" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path>
                  </svg>
                  <span class="text-gray-700" data-lang-content>
                    <span data-no>Kontaktl√∏se betalinger overalt</span>
                    <span data-en class="hidden">Contactless payments everywhere</span>
                  </span>
                </div>
                <div class="flex items-center gap-3">
                  <svg class="w-6 h-6 text-igive-accent flex-shrink-0" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path>
                  </svg>
                  <span class="text-gray-700" data-lang-content>
                    <span data-no>Forbedret sikkerhet med Face ID og Touch ID</span>
                    <span data-en class="hidden">Enhanced security with Face ID & Touch ID</span>
                  </span>
                </div>
              </div>
              
            </div>
            
            <!-- Right side - Visual -->
            <div class="relative">
              <div class="bg-gradient-to-br from-igive-primary/10 to-igive-accent/10 rounded-3xl p-8 lg:p-12">
                <!-- Apple Pay Icon Animation -->
                <div class="text-center">
                  <div class="inline-flex items-center justify-center w-32 h-32 bg-white rounded-3xl shadow-xl mb-6">
                    <svg class="w-20 h-20" viewBox="0 0 120 120" fill="none">
                      <path d="M40 50C40 50 50 30 65 30C80 30 85 40 85 40S90 35 95 35C100 35 105 40 105 50C105 65 85 85 60 90C35 85 15 65 15 50C15 40 20 35 25 35C30 35 35 40 40 50Z" fill="black"/>
                      <path d="M55 60H65M50 70H70" stroke="white" stroke-width="3" stroke-linecap="round"/>
                    </svg>
                  </div>
                  <div class="space-y-4">
                    <div class="flex justify-center gap-2">
                      <div class="w-3 h-3 bg-igive-primary rounded-full animate-pulse"></div>
                      <div class="w-3 h-3 bg-igive-primary rounded-full animate-pulse delay-75"></div>
                      <div class="w-3 h-3 bg-igive-primary rounded-full animate-pulse delay-150"></div>
                    </div>
                    <p class="text-sm text-gray-600" data-lang-content>
                      <span data-no>Trykk for √• betale med Face ID</span>
                      <span data-en class="hidden">Tap to pay with Face ID</span>
                    </p>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Features Section -->
    <section class="py-16 bg-white">
      <div class="container mx-auto px-6">
        <div class="max-w-6xl mx-auto">
          <div class="grid md:grid-cols-3 gap-8">
            <!-- Effortless -->
            <div class="text-center">
              <div class="inline-flex items-center justify-center w-16 h-16 bg-igive-primary/10 rounded-lg mb-4">
                <svg class="w-8 h-8 text-igive-primary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 18h.01M8 21h8a2 2 0 002-2V5a2 2 0 00-2-2H8a2 2 0 00-2 2v14a2 2 0 002 2z"></path>
                </svg>
              </div>
              <h3 class="text-xl font-heading font-bold text-igive-heading mb-3" data-lang-content>
                <span data-no>Enkelt</span>
                <span data-en class="hidden">Effortless</span>
              </h3>
              <p class="text-gray-600" data-lang-content>
                <span data-no>Ditt <span class="font-semibold text-igive-primary">iGive-kort</span> er alltid tilgjengelig p√• din iPhone eller Apple Watch. Det tar bare ett minutt √• sette opp og bare noen f√• klikk for √• gj√∏re kj√∏p i butikker og p√• nett.</span>
                <span data-en class="hidden">Your <span class="font-semibold text-igive-primary">iGive card</span> is always at hand on your iPhone or Apple Watch. It takes a minute to set up and just a couple of clicks to make purchases in stores and online.</span>
              </p>
            </div>
            
            <!-- Contactless -->
            <div class="text-center">
              <div class="inline-flex items-center justify-center w-16 h-16 bg-igive-primary/10 rounded-lg mb-4">
                <svg class="w-8 h-8 text-igive-primary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.111 16.404a5.5 5.5 0 017.778 0M12 20h.01m-7.08-7.071c3.904-3.905 10.236-3.905 14.141 0M1.394 9.393c5.857-5.857 15.355-5.857 21.213 0"></path>
                </svg>
              </div>
              <h3 class="text-xl font-heading font-bold text-igive-heading mb-3" data-lang-content>
                <span data-no>Kontaktl√∏s</span>
                <span data-en class="hidden">Contactless</span>
              </h3>
              <p class="text-gray-600" data-lang-content>
                <span data-no>Betal <span class="font-semibold text-igive-primary">overalt</span> hvor kontaktl√∏se betalinger er tilgjengelige. Kortets kontaktl√∏se betalingsgrenser gjelder.</span>
                <span data-en class="hidden">Pay <span class="font-semibold text-igive-primary">wherever</span> contactless payments are available. Your card's contactless payment limits apply.</span>
              </p>
            </div>
            
            <!-- Secure -->
            <div class="text-center">
              <div class="inline-flex items-center justify-center w-16 h-16 bg-igive-primary/10 rounded-lg mb-4">
                <svg class="w-8 h-8 text-igive-primary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"></path>
                </svg>
              </div>
              <h3 class="text-xl font-heading font-bold text-igive-heading mb-3" data-lang-content>
                <span data-no>Sikkert</span>
                <span data-en class="hidden">Secure</span>
              </h3>
              <p class="text-gray-600" data-lang-content>
                <span data-no>Hver betalingstransaksjon bekreftes med <span class="font-semibold text-igive-primary">Face ID eller Touch ID</span>. Apple Pay bruker et enhetsspesifikt nummer og en unik transaksjonskode. P√• denne m√•ten lagres aldri kortdetaljene dine p√• enheten, og Apple Pay deler dem ikke med selgere.</span>
                <span data-en class="hidden">Each payment transaction is confirmed using <span class="font-semibold text-igive-primary">Face ID or Touch ID</span>. Apple Pay uses a device-specific number and a unique transaction code. This way, your card details are never stored on your device and Apple Pay doesn't share them with merchants.</span>
              </p>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- How to Add Card Section -->
    <section id="how-to-add" class="py-16 bg-white">
      <div class="container mx-auto px-6">
        <div class="max-w-6xl mx-auto">
          <div class="text-center mb-12">
            <h2 class="text-3xl font-heading font-bold text-igive-heading mb-4" data-lang-content>
              <span data-no>Hvordan legge til kortet ditt?</span>
              <span data-en class="hidden">How to add your card?</span>
            </h2>
            <p class="text-lg text-gray-600 max-w-3xl mx-auto" data-lang-content>
              <span data-no>For √• bruke Apple Pay med din <span class="font-semibold">iPhone, iPad eller Apple Watch</span>, bare legg til ditt iGive-kort i Apple Wallet p√• hver enhet du √∏nsker √• bruke det med.</span>
              <span data-en class="hidden">To use Apple Pay with your <span class="font-semibold">iPhone, iPad or Apple Watch</span>, simply add your iGive card to Apple Wallet on each device you'd like to use it with.</span>
            </p>
            <p class="text-gray-600 mt-2" data-lang-content>
              <span data-no>Dette kan gj√∏res gjennom iGive-applikasjonen eller gjennom Apple Wallet.</span>
              <span data-en class="hidden">This can be done through the iGive application or through Apple Wallet.</span>
            </p>
          </div>
          
          <div class="grid md:grid-cols-3 gap-8 mb-10">
            <!-- Step 1 -->
            <div class="text-center">
              <div class="flex justify-center mb-4">
                <div class="w-12 h-12 bg-[#B47C3C] text-white rounded-full flex items-center justify-center font-bold text-lg">1</div>
              </div>
              <h3 class="text-lg font-semibold text-igive-heading mb-3" data-lang-content>
                <span data-no>I iGive-appen</span>
                <span data-en class="hidden">In the iGive app</span>
              </h3>
              <p class="text-gray-600" data-lang-content>
                <span data-no>Klikk p√• <span class="font-semibold">"Legg til i Apple Wallet"</span> i <span class="font-semibold">"Mine kort"</span>.</span>
                <span data-en class="hidden">Click on <span class="font-semibold">"Add to Apple Wallet"</span> in <span class="font-semibold">"My Cards"</span>.</span>
              </p>
            </div>
            
            <!-- Step 2 -->
            <div class="text-center">
              <div class="flex justify-center mb-4">
                <div class="w-12 h-12 bg-igive-primary text-white rounded-full flex items-center justify-center font-bold text-lg">2</div>
              </div>
              <h3 class="text-lg font-semibold text-igive-heading mb-3" data-lang-content>
                <span data-no>I Apple Wallet</span>
                <span data-en class="hidden">In Apple Wallet</span>
              </h3>
              <p class="text-gray-600" data-lang-content>
                <span data-no>Trykk p√• <span class="font-semibold">+ knappen</span> og f√∏lg instruksjonene p√• skjermen.</span>
                <span data-en class="hidden">Tap on the <span class="font-semibold">+ button</span> and follow the instructions on the screen.</span>
              </p>
            </div>
            
            <!-- Step 3 -->
            <div class="text-center">
              <div class="flex justify-center mb-4">
                <div class="w-12 h-12 bg-igive-primary text-white rounded-full flex items-center justify-center font-bold text-lg">3</div>
              </div>
              <h3 class="text-lg font-semibold text-igive-heading mb-3" data-lang-content>
                <span data-no>For Apple Watch</span>
                <span data-en class="hidden">For Apple Watch</span>
              </h3>
              <p class="text-gray-600" data-lang-content>
                <span data-no>Du kan legge til kortet ditt p√• din <span class="font-semibold">Apple Watch</span> gjennom Apple Watch-appen p√• din iPhone.</span>
                <span data-en class="hidden">You can add your card to your <span class="font-semibold">Apple Watch</span> through the Apple Watch app on your iPhone.</span>
              </p>
            </div>
          </div>
          
          <div class="text-center">
            <a href="https://support.apple.com/en-us/HT204506" target="_blank" rel="noopener noreferrer" class="text-[#B47C3C] hover:text-[#8B5A2B] font-medium inline-flex items-center gap-2">
              <span data-lang-content>
                <span data-no>Finn ut mer om hvordan du setter opp Apple Pay</span>
                <span data-en class="hidden">Find out more about how to set up Apple Pay</span>
              </span>
              <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"></path>
              </svg>
            </a>
          </div>
        </div>
      </div>
    </section>

    <!-- How to Pay Section -->
    <section class="py-16 bg-gray-50">
      <div class="container mx-auto px-6">
        <div class="max-w-6xl mx-auto">
          <div class="text-center mb-12">
            <h2 class="text-3xl font-heading font-bold text-igive-heading mb-4" data-lang-content>
              <span data-no>Hvordan betale?</span>
              <span data-en class="hidden">How to pay?</span>
            </h2>
            <p class="text-lg text-gray-600 max-w-4xl mx-auto" data-lang-content>
              <span data-no>Apple Pay aksepteres i alle kontaktl√∏se terminaler. Bruk Apple Pay for nettkj√∏p i apper og p√• nettet n√•r du ser Apple Pay-skiltet eller hvis Apple Pay er oppf√∏rt som en av betalingsmetodene.</span>
              <span data-en class="hidden">Apple Pay is accepted in any contactless terminals. Use Apple Pay for online purchases in apps and on the web when you see the Apple Pay sign or if Apple Pay is listed as one of the payment methods.</span>
            </p>
          </div>
          
          <div class="grid md:grid-cols-2 gap-12 max-w-5xl mx-auto mb-10">
            <!-- In Stores -->
            <div>
              <div class="flex items-center gap-3 mb-6">
                <div class="w-12 h-12 bg-[#B47C3C] rounded-lg flex items-center justify-center">
                  <svg class="w-6 h-6 text-white" fill="currentColor" viewBox="0 0 20 20">
                    <path d="M2 6a2 2 0 012-2h12a2 2 0 012 2v2a2 2 0 100 4v2a2 2 0 01-2 2H4a2 2 0 01-2-2v-2a2 2 0 100-4V6z"></path>
                  </svg>
                </div>
                <h3 class="text-xl font-semibold text-igive-heading" data-lang-content>
                  <span data-no>I butikker</span>
                  <span data-en class="hidden">In Stores</span>
                </h3>
              </div>
              <ul class="space-y-4 text-gray-600">
                <li class="flex items-start gap-3">
                  <span class="text-gray-400 mt-1">‚Ä¢</span>
                  <span data-lang-content>
                    <span data-no>Hold din iPhone eller Apple Watch n√¶r den kontaktl√∏se leseren</span>
                    <span data-en class="hidden">Hold your iPhone or Apple Watch near the contactless reader</span>
                  </span>
                </li>
                <li class="flex items-start gap-3">
                  <span class="text-gray-400 mt-1">‚Ä¢</span>
                  <span data-lang-content>
                    <span data-no>Autentiser med Face ID, Touch ID eller din kode</span>
                    <span data-en class="hidden">Authenticate with Face ID, Touch ID, or your passcode</span>
                  </span>
                </li>
                <li class="flex items-start gap-3">
                  <span class="text-gray-400 mt-1">‚Ä¢</span>
                  <span data-lang-content>
                    <span data-no>Vent p√• hakemerket og "Ferdig" p√• skjermen</span>
                    <span data-en class="hidden">Wait for the checkmark and "Done" on the display</span>
                  </span>
                </li>
              </ul>
            </div>
            
            <!-- Online & In Apps -->
            <div>
              <div class="flex items-center gap-3 mb-6">
                <div class="w-12 h-12 bg-igive-primary rounded-lg flex items-center justify-center">
                  <svg class="w-6 h-6 text-white" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M3 5a2 2 0 012-2h10a2 2 0 012 2v8a2 2 0 01-2 2h-2.22l.123.489.804.804A1 1 0 0113 18H7a1 1 0 01-.707-1.707l.804-.804L7.22 15H5a2 2 0 01-2-2V5zm5.771 7H5V5h10v7H8.771z" clip-rule="evenodd"></path>
                  </svg>
                </div>
                <h3 class="text-xl font-semibold text-igive-heading" data-lang-content>
                  <span data-no>P√• nett og i apper</span>
                  <span data-en class="hidden">Online & In Apps</span>
                </h3>
              </div>
              <ul class="space-y-4 text-gray-600">
                <li class="flex items-start gap-3">
                  <span class="text-gray-400 mt-1">‚Ä¢</span>
                  <span data-lang-content>
                    <span data-no>Se etter Apple Pay-knappen ved utsjekking</span>
                    <span data-en class="hidden">Look for the Apple Pay button at checkout</span>
                  </span>
                </li>
                <li class="flex items-start gap-3">
                  <span class="text-gray-400 mt-1">‚Ä¢</span>
                  <span data-lang-content>
                    <span data-no>Gjennomg√• betalingsinformasjonen din</span>
                    <span data-en class="hidden">Review your payment information</span>
                  </span>
                </li>
                <li class="flex items-start gap-3">
                  <span class="text-gray-400 mt-1">‚Ä¢</span>
                  <span data-lang-content>
                    <span data-no>Fullf√∏r betalingen med Face ID, Touch ID eller kode</span>
                    <span data-en class="hidden">Complete the payment with Face ID, Touch ID, or passcode</span>
                  </span>
                </li>
              </ul>
            </div>
          </div>
          
          <div class="text-center">
            <a href="https://support.apple.com/en-us/HT201239" target="_blank" rel="noopener noreferrer" class="text-[#B47C3C] hover:text-[#8B5A2B] font-medium inline-flex items-center gap-2">
              <span data-lang-content>
                <span data-no>Finn ut mer om betalingsalternativene</span>
                <span data-en class="hidden">Find out more about the payment options</span>
              </span>
              <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"></path>
              </svg>
            </a>
          </div>
        </div>
      </div>
    </section>

    <!-- CTA Section -->
    <section class="py-16 bg-gradient-to-r from-igive-primary to-igive-primary-dark text-white">
      <div class="container mx-auto px-6">
        <div class="max-w-4xl mx-auto text-center">
          <h2 class="text-3xl font-heading font-bold mb-4" data-lang-content>
            <span data-no>Klar til √• komme i gang?</span>
            <span data-en class="hidden">Ready to get started?</span>
          </h2>
          <p class="text-xl mb-8 opacity-90" data-lang-content>
            <span data-no>La oss diskutere en perfekt l√∏sning for deg!</span>
            <span data-en class="hidden">Let's discuss a perfect solution for you!</span>
          </p>
          <div class="flex flex-col sm:flex-row gap-4 justify-center">
            <a href={assetPath('kontakt')} class="px-8 py-4 bg-white text-igive-primary rounded-full hover:shadow-lg transform hover:-translate-y-0.5 transition-all duration-200 font-semibold" data-lang-content>
              <span data-no>Kontakt oss</span>
              <span data-en class="hidden">Contact Us</span>
            </a>
            <a href={assetPath('kjop-gavekort')} class="px-8 py-4 border-2 border-white text-white rounded-full hover:bg-white hover:text-igive-primary transition-all duration-200 font-semibold" data-lang-content>
              <span data-no>Kj√∏p gavekort</span>
              <span data-en class="hidden">Buy Gift Cards</span>
            </a>
          </div>
        </div>
      </div>
    </section>
  </main>
  <Footer />
  
  <style>
    .lang-btn {
      @apply text-gray-600 bg-white;
    }
    
    .lang-btn.active {
      @apply bg-igive-primary text-white;
    }
    
    .lang-btn:hover:not(.active) {
      @apply bg-gray-100;
    }
  </style>
  
  <script>
    // Language toggle functionality
    const langBtns = document.querySelectorAll('.lang-btn');
    const currentLang = localStorage.getItem('applePay-language') || 'no';
    
    // Set initial language
    function setLanguage(lang: string) {
      // Update button states
      langBtns.forEach(btn => {
        if (btn.getAttribute('data-lang') === lang) {
          btn.classList.add('active');
        } else {
          btn.classList.remove('active');
        }
      });
      
      // Update content visibility
      document.querySelectorAll('[data-lang-content]').forEach(element => {
        const noContent = element.querySelector('[data-no]') as HTMLElement;
        const enContent = element.querySelector('[data-en]') as HTMLElement;
        
        if (noContent && enContent) {
          if (lang === 'no') {
            noContent.classList.remove('hidden');
            enContent.classList.add('hidden');
          } else {
            noContent.classList.add('hidden');
            enContent.classList.remove('hidden');
          }
        }
      });
      
      // Save preference
      localStorage.setItem('applePay-language', lang);
    }
    
    // Set initial language on page load
    setLanguage(currentLang);
    
    // Add click handlers
    langBtns.forEach(btn => {
      btn.addEventListener('click', () => {
        const lang = btn.getAttribute('data-lang');
        if (lang) {
          setLanguage(lang);
        }
      });
    });
  </script>
</Layout>